<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Thunderstorm Power Index (TPI) Calculator with Detailed Scoring and Contributing Info" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TPI Calculator (Field &amp; Pro, Metric &amp; Imperial)</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
      background: #f9f9f9;
      line-height: 1.6;
    }
    h1, h2, h3, h4 {
      text-align: center;
    }
    .subtitle {
      text-align: center;
      font-style: italic;
      margin-bottom: 10px;
      color: #555;
    }
    .calculator-container, .info-section, .contributing-section {
      max-width: 800px;
      margin: 0 auto 30px;
      background: #fff;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .factor-row {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .factor-row label {
      flex: 1;
      font-weight: bold;
      margin-right: 10px;
    }
    .factor-row select {
      flex: 1;
      padding: 5px;
      font-size: 1rem;
    }
    button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 1.1rem;
      cursor: pointer;
      background: #007BFF;
      color: #fff;
      border: none;
      border-radius: 4px;
    }
    button:hover {
      background: #0056b3;
    }
    #result {
      text-align: center;
      margin-top: 20px;
      font-size: 1.2rem;
      padding: 10px;
      background: #e3f2fd;
      border-radius: 8px;
      border: 1px solid #bbdefb;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }
    table th, table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
      font-size: 0.95rem;
    }
    a {
      color: #007BFF;
      text-decoration: none;
    }
    a:hover {
      color: #0056b3;
    }
    code {
      background: #eee;
      padding: 2px 5px;
      border-radius: 4px;
    }
    .note {
      background: #fff9c4;
      border-left: 5px solid #ffeb3b;
      padding: 10px;
      margin: 20px 0;
    }
    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 0.85rem;
      color: #777;
    }
  </style>
</head>
<body>

  <!-- PAGE TITLE & SUBTITLE -->
  <h1>Thunderstorm Power Index (TPI) Calculator</h1>
  <p class="subtitle">Field &amp; Pro Guidance | Metric &amp; Imperial Units | Contributing Info</p>

  <!-- CALCULATOR CONTAINER -->
  <div class="calculator-container">
    <p style="text-align:center;">
      Select values <strong>(1-5)</strong> for each factor based on your assessment of the storm.  
      Then click <strong>"Calculate TPI"</strong>.
    </p>

    <!-- CAPE Factor -->
    <div class="factor-row">
      <label for="capeFactor">CAPE Factor (C)</label>
      <select id="capeFactor">
        <option value="1">1 (Low CAPE: &lt;500 J/kg)</option>
        <option value="2">2 (Moderate CAPE: 500-1500 J/kg)</option>
        <option value="3">3 (High CAPE: 1500-3000 J/kg)</option>
        <option value="4">4 (Very High CAPE: 3000-4500 J/kg)</option>
        <option value="5">5 (Extreme CAPE: &gt;4500 J/kg)</option>
      </select>
    </div>

    <!-- Shear Factor -->
    <div class="factor-row">
      <label for="shearFactor">Shear Factor (S)</label>
      <select id="shearFactor">
        <option value="1">1 (Weak Shear: &lt;20 kt)</option>
        <option value="2">2 (Modest Shear: 20-35 kt)</option>
        <option value="3">3 (Decent Shear: 35-50 kt)</option>
        <option value="4">4 (Strong Shear: 50-65 kt)</option>
        <option value="5">5 (Very Strong: &gt;65 kt)</option>
      </select>
    </div>

    <!-- Lightning Factor -->
    <div class="factor-row">
      <label for="lightningFactor">Lightning Factor (L)</label>
      <select id="lightningFactor">
        <option value="1">1 (Occasional Flash)</option>
        <option value="2">2 (Steady, ~5-15/min)</option>
        <option value="3">3 (Frequent, 15-30/min)</option>
        <option value="4">4 (Very Frequent, 30-45/min)</option>
        <option value="5">5 (Intense Barrage, &gt;45/min)</option>
      </select>
    </div>

    <!-- Updraft Strength Factor -->
    <div class="factor-row">
      <label for="updraftFactor">Updraft Strength (U)</label>
      <select id="updraftFactor">
        <option value="1">1 (Weak Updraft)</option>
        <option value="2">2 (Modest Updraft)</option>
        <option value="3">3 (Strong Updraft)</option>
        <option value="4">4 (Very Strong Updraft)</option>
        <option value="5">5 (Extreme Updraft / Rotation)</option>
      </select>
    </div>

    <!-- Precipitation Core Factor -->
    <div class="factor-row">
      <label for="precipFactor">Precip. Core (P)</label>
      <select id="precipFactor">
        <option value="1">1 (&lt;55 dBZ)</option>
        <option value="2">2 (55-60 dBZ)</option>
        <option value="3">3 (60-65 dBZ)</option>
        <option value="4">4 (65-70 dBZ)</option>
        <option value="5">5 (&gt;70 dBZ)</option>
      </select>
    </div>

    <!-- Calculate Button -->
    <button onclick="calculateTPI()">Calculate TPI</button>

    <!-- Result Display -->
    <div id="result"></div>
  </div>

  <!-- INFO SECTION -->
  <div class="info-section">
    <h2>How the TPI Works</h2>
    <p>
      The <strong>Thunderstorm Power Index (TPI)</strong> is a simple way to estimate a storm’s potential strength.  
      It combines five factors—<em>CAPE, Wind Shear, Lightning, Updraft Strength, and Precipitation Core</em>—into  
      a single value from <strong>5</strong> (weak) to <strong>25</strong> (extreme). 
    </p>
    <h3>Interpretation of Final TPI Score</h3>
    <ul>
      <li><strong>5–10:</strong> Weak to Moderate Thunderstorm Potential</li>
      <li><strong>11–15:</strong> Strong Storm Potential (could be locally severe)</li>
      <li><strong>16–20:</strong> Severe Storm Potential (large hail, damaging winds, maybe tornadoes)</li>
      <li><strong>21–25:</strong> Extreme Storm Potential (significant severe threat)</li>
    </ul>
    <p>Even low scores can still produce hazardous weather (e.g., lightning, localized flooding). Always follow <strong>official forecasts and warnings</strong>.</p>

    <h2>CAPE (Convective Available Potential Energy)</h2>
    <ul>
      <li><strong>Field/Hobbyist:</strong> Look for “moderate instability” or approximate CAPE in local forecasts/apps.</li>
      <li><strong>Professional:</strong> Use weather balloon soundings or high-resolution model data (HRRR, ACCESS, etc.).</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th>Score (C)</th>
          <th>CAPE Range (J/kg)</th>
          <th>Typical Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>&lt; 500</td>
          <td>Very low (weak or isolated storms)</td>
        </tr>
        <tr>
          <td>2</td>
          <td>500–1500</td>
          <td>Low-moderate instability</td>
        </tr>
        <tr>
          <td>3</td>
          <td>1500–3000</td>
          <td>High (strong storms likely)</td>
        </tr>
        <tr>
          <td>4</td>
          <td>3000–4500</td>
          <td>Very high (severe storms probable)</td>
        </tr>
        <tr>
          <td>5</td>
          <td>&gt; 4500</td>
          <td>Extreme (explosive storms possible)</td>
        </tr>
      </tbody>
    </table>

    <h2>Wind Shear (S)</h2>
    <ul>
      <li><strong>Field/Hobbyist:</strong> Forecast says “weak,” “moderate,” or “strong” shear. Or check SPC (U.S.).</li>
      <li><strong>Professional:</strong> 0–6 km bulk shear in knots. More shear = more organized storms.</li>
    </ul>
    <p><em>Note:</em> 1 knot (kt) ≈ 1.15 mph ≈ 1.85 km/h.</p>
    <table>
      <thead>
        <tr>
          <th>Score (S)</th>
          <th>Shear (knots)</th>
          <th>Approx. mph</th>
          <th>Approx. km/h</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>&lt; 20</td>
          <td>&lt; 23 mph</td>
          <td>&lt; 37 km/h</td>
          <td>Weak Shear</td>
        </tr>
        <tr>
          <td>2</td>
          <td>20–35</td>
          <td>23–40 mph</td>
          <td>37–65 km/h</td>
          <td>Modest</td>
        </tr>
        <tr>
          <td>3</td>
          <td>35–50</td>
          <td>40–58 mph</td>
          <td>65–93 km/h</td>
          <td>Decent/Moderate</td>
        </tr>
        <tr>
          <td>4</td>
          <td>50–65</td>
          <td>58–75 mph</td>
          <td>93–120 km/h</td>
          <td>Strong</td>
        </tr>
        <tr>
          <td>5</td>
          <td>&gt; 65</td>
          <td>&gt; 75 mph</td>
          <td>&gt; 120 km/h</td>
          <td>Very Strong</td>
        </tr>
      </tbody>
    </table>

    <h2>Lightning (L)</h2>
    <ul>
      <li><strong>Field/Hobbyist:</strong> Check free apps (LightningMaps.org) or estimate visually (flashes every few seconds).</li>
      <li><strong>Professional:</strong> Real-time lightning detection networks or satellite-based mappers.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th>Score (L)</th>
          <th>Lightning Frequency</th>
          <th>Approx. Flashes/Minute</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Occasional, big quiet gaps</td>
          <td>&lt; 5</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Steady, not rapid</td>
          <td>5–15</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Frequent (flashes every few secs)</td>
          <td>15–30</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Very frequent “almost continuous”</td>
          <td>30–45</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Intense barrage “strobe effect”</td>
          <td>&gt; 45</td>
        </tr>
      </tbody>
    </table>

    <h2>Updraft Strength (U)</h2>
    <ul>
      <li><strong>Field/Hobbyist:</strong> Hail reports, strong outflow, rapid tower growth, echo tops. </li>
      <li><strong>Professional:</strong> Updraft Helicity (UH), Doppler velocity (rotation), large hail signatures.</li>
    </ul>
    <p>For hail, note 1 inch = 2.54 cm, 1.5" ~ 3.8 cm, 2" ~ 5.1 cm, 2.5" ~ 6.4 cm.</p>
    <table>
      <thead>
        <tr>
          <th>Score (U)</th>
          <th>Field Clues (Imperial &amp; Metric Hail)</th>
          <th>Potential Updraft Strength</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>No hail or &lt;0.5" (~1.3 cm)</td>
          <td>Weak, minimal vertical motion</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Small hail (0.5–1.0" / 1.3–2.5 cm)</td>
          <td>Modest updraft, short-lived</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Hail ~1.0–1.5" (~2.5–3.8 cm)</td>
          <td>Strong updraft, possible supercell</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Hail 1.5–2.5" (~3.8–6.4 cm)</td>
          <td>Very strong, severe threat</td>
        </tr>
        <tr>
          <td>5</td>
          <td>&gt;2.5" (&gt;6.4 cm)</td>
          <td>Extreme updraft/rotation likely</td>
        </tr>
      </tbody>
    </table>

    <h2>Precipitation Core (P)</h2>
    <ul>
      <li><strong>Field/Hobbyist:</strong> Free radar apps (RadarScope, Weather Underground) for reflectivity dBZ.</li>
      <li><strong>Professional:</strong> Advanced radar (dual-pol, VIL). Over ~65 dBZ often signals hail.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th>Score (P)</th>
          <th>Reflectivity (dBZ)</th>
          <th>Typical Radar Appearance</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>&lt; 55</td>
          <td>Green/Yellow (moderate rain)</td>
        </tr>
        <tr>
          <td>2</td>
          <td>55–60</td>
          <td>Orange/Red (heavy rain)</td>
        </tr>
        <tr>
          <td>3</td>
          <td>60–65</td>
          <td>Dark Red (very heavy, small hail)</td>
        </tr>
        <tr>
          <td>4</td>
          <td>65–70</td>
          <td>Purple/White (likely hail)</td>
        </tr>
        <tr>
          <td>5</td>
          <td>&gt; 70</td>
          <td>Extreme (strong hail core)</td>
        </tr>
      </tbody>
    </table>

    <p>
      <strong>Measurement Conversions:</strong> 1 knot ~ 1.15 mph ~ 1.85 km/h | 1" hail ~ 2.54 cm
      <br />
      By combining (C) CAPE + (S) Shear + (L) Lightning + (U) Updraft + (P) Precip,  
      you get a <strong>TPI</strong> from <strong>5 to 25</strong>.
    </p>
  </div>

  <!-- CONTRIBUTING SECTION -->
  <div class="contributing-section">
    <h2>Contributing &amp; Feedback</h2>
    <p>
      Thank you for your interest in improving the
      <strong>Thunderstorm Power Index (TPI) Calculator</strong>! You can find the repository here:
      <a href="https://github.com/bassyboi/tpi-calculator" target="_blank">
        github.com/bassyboi/tpi-calculator
      </a>.
    </p>
    <hr />

    <h3>1. Suggest Ideas</h3>
    <p>
      Have a new feature or tweak in mind? Please open a <strong>GitHub Issue</strong>:
    </p>
    <ol>
      <li>
        Go to 
        <a href="https://github.com/bassyboi/tpi-calculator/issues" target="_blank">
          Issues
        </a>.
      </li>
      <li>Click <code>New issue</code>.</li>
      <li>Provide a descriptive title (e.g. "Improve hail-size guidelines") and detail.</li>
    </ol>

    <h3>2. Report an Issue or Bug</h3>
    <p>
      Found a bug? Something not working? Let us know:
    </p>
    <ol>
      <li>
        Visit 
        <a href="https://github.com/bassyboi/tpi-calculator/issues" target="_blank">
          the Issues page
        </a>.
      </li>
      <li>Click <code>New issue</code>, use a title like "Bug:" or "Error:".</li>
      <li>Explain:
        <ul>
          <li>What you did (steps to reproduce).</li>
          <li>What you expected vs. what happened.</li>
          <li>Attach console errors or screenshots if possible.</li>
        </ul>
      </li>
    </ol>

    <h3>3. Contribute Code (Pull Requests)</h3>
    <ol>
      <li>Fork the repo by clicking <code>Fork</code> at the top right of the
        <a href="https://github.com/bassyboi/tpi-calculator" target="_blank">GitHub page</a>.
      </li>
      <li>Clone your fork locally:  
        <code>git clone https://github.com/YourUsername/tpi-calculator.git</code>
      </li>
      <li>Create a branch: <code>git checkout -b feature/improve-hail-scale</code></li>
      <li>Make changes, then <code>git add .</code> &amp; <code>git commit -m "Improve hail size guidelines"</code></li>
      <li>Push &amp; open a pull request describing what you changed.</li>
    </ol>
    <p>A maintainer will review and possibly merge your PR.</p>

    <h3>4. Ideas for Future Enhancements</h3>
    <ul>
      <li>Interactive input for exact CAPE/Shear values (auto-convert to 1–5 scale).</li>
      <li>Localization for different regions (more Australian references, etc.).</li>
      <li>Better visuals or real-time storm data integration.</li>
      <li>Weather API hook to auto-populate factors if a user inputs a location.</li>
    </ul>

    <h3>5. Stay Informed</h3>
    <p>
      You can <strong>watch</strong> or <strong>star</strong> the repository on GitHub to get updates.
      If you have questions, post an issue labeled <code>question</code>.
    </p>
  </div>

  <footer>
    <p>
      &copy; 2023 TPI Calculator — 
      <a href="https://github.com/bassyboi/tpi-calculator" target="_blank">GitHub Repo</a>  
      <br />
      Created by <strong>YourName</strong> — Field &amp; Pro Guidance (Metric &amp; Imperial)
    </p>
  </footer>

  <script>
    function calculateTPI() {
      // Get selected values
      const cape = parseInt(document.getElementById('capeFactor').value, 10);
      const shear = parseInt(document.getElementById('shearFactor').value, 10);
      const lightning = parseInt(document.getElementById('lightningFactor').value, 10);
      const updraft = parseInt(document.getElementById('updraftFactor').value, 10);
      const precip = parseInt(document.getElementById('precipFactor').value, 10);

      // Sum them
      const TPI = cape + shear + lightning + updraft + precip;

      // Basic interpretation logic
      let interpretation = '';
      if (TPI <= 10) {
        interpretation = 'Weak to Moderate Thunderstorm Potential';
      } else if (TPI <= 15) {
        interpretation = 'Strong Storm Potential (could be locally severe)';
      } else if (TPI <= 20) {
        interpretation = 'Severe Storm Potential (large hail, damaging winds, maybe tornadoes)';
      } else {
        interpretation = 'Extreme Storm Potential (significant severe threat)';
      }

      // Display result
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = `
        <strong>TPI = ${TPI}</strong><br />
        <em>${interpretation}</em>
      `;
    }
  </script>
</body>
</html>
